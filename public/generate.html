<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Short URLs</title>
    <link rel="stylesheet" href="assets/reset.css" />
    <link rel="stylesheet" href="assets/global.css" />
  </head>
  <body id="home">
    <header>
      <h1 class="heading1">Short URL</h1>
      <p>A URL shortener written in Go and pure HTML/CSS/JS!</p>
      <a target="_blank" href="https://github.com/hn275/shorturl"
        >GitHub repository</a
      >
    </header>

    <main class="container">
      <div class="container-generated">
        Generated URL:
        <a id="generated-url" href="/{{ .GeneratedHash }}" target="_blank"
          ><span id="host"
        /></a>
      </div>
      <button class="btn" onclick="handleClick()">Copy to clipboard</button>
      <a href="/index.html">Go back home</a>
    </main>
  </body>

  <style>
    .container-generated {
      width: max-content;
    }
  </style>
</html>

<script>
  var aTag = document.getElementById("generated-url");
  aTag.innerText = aTag.href;

  function alertUser() {
    window.alert(`Copied URL ${aTag.href} to clipboard.`);
  }

  function handleClick() {
    window.navigator.clipboard.writeText(aTag.href).then(alertUser);
  }
</script>
